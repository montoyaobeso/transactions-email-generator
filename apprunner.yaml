version: 1.0
runtime: python3
build:
  commands:
    build:      
      - pip install -r requirements.txt
run:   
  command: python server.py
  network:
    port: 8080
    env: PORT
  env:
    - name: PORT
      value: '8080'
    - name: BUCKET_NAME
      value: 'transactions-email-sender-files-dev'
    - name: SECRET_NAME
      value: 'stori-sendgrid'
    - name: STAGE
      value: 'dev'
  secrets:
    - name: stori-database-credentials
      value-from: "arn:aws:secretsmanager:us-west-2:339713191966:secret:stori-database-credentials-cEeXnx"
    - name: stori-sendgrid
      value-from: "arn:aws:secretsmanager:us-west-2:339713191966:secret:stori-sendgrid-8LzFPs"
